- commits:
    - subject: Add support for kernel 6.1
      hash: cf2340ece06b4f18e625763568ccd3dc20823839
      body: |
        Default to 5.10 for now due to systemd in docker
        compatibility issues.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: test creating new nftables chain and rule
      hash: 5b9e20944b3fd20e544786d2a43342207b4fe8c6
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.40
  title: ""
  date: 2024-03-12T20:17:02.960Z
- commits:
    - subject: Enable NFT_COMPAT in the kernel for nf_tables
      hash: 2677463ea2ee104aac59242807f4e957c45daa0b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.39
  title: ""
  date: 2024-02-26T19:03:51.050Z
- commits:
    - subject: Test mounting an nfs share
      hash: 0dabf12e7be3acb0f099651143ba0fed23ab1904
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: Add NFSv4 support to the kernel
      hash: c1ca7a9864f0766e68329616cef5fcd26a5e084c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.38
  title: ""
  date: 2024-02-20T18:49:58.051Z
- commits:
    - subject: Enable basic NFS client features
      hash: 26c0d2347732a5020cae2a488629997349fc53a8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.37
  title: ""
  date: 2024-02-13T21:56:08.259Z
- commits:
    - subject: Allow providing extra kernel boot args
      hash: 90113389fa05c33daf544ffafb3c766a146812f0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: Add uname26 personality patches from balena-generic @ cff3eed
      hash: 9b428b5962c03715cc9c875ff29b5346105633f3
      body: |
        This allows to use this kernel in our ARM builder that require armv7l
        and armv6l machine strings to build.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.36
  title: ""
  date: 2023-12-14T23:46:32.054Z
- commits:
    - subject: Enable KVM in x86_64 guest kernels
      hash: e9ac1be9ee1a057b89a181fd82ad029a46bd328a
      body: |
        Nested KVM is not supported on aarch64 hardware or kernels
        so we can only enable this on x86_64 for now.

        This functionality allows us to test KVM features via CI
        on VM self-hosted GitHub runners. Hence "nested".
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.35
  title: ""
  date: 2023-12-12T14:35:00.238Z
- commits:
    - subject: Create missing /dev/pts device
      hash: efd1c107babffc6f35aaa835227c2b5fe494b96d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.34
  title: ""
  date: 2023-11-16T16:22:31.541Z
- commits:
    - subject: Avoid permission denied when writing to test files created by root
      hash: 9977c922fc8645488f62d7ac53747f066a323614
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.33
  title: ""
  date: 2023-11-16T16:03:37.376Z
- commits:
    - subject: Optionally log in to DockerHub during healthchecks
      hash: e49608bd122c70b04e723bc244e105c96514c9bf
      body: |
        This will help avoid rate limiting by DockerHub.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.32
  title: ""
  date: 2023-11-16T14:49:31.701Z
- commits:
    - subject: Create /dev/fd symlink so anonymous pipes can be created
      hash: 91bfde1a56e261157ba0252fdded8d04d485ff36
      body: |
        In order to support process substitution and anonymous
        pipes we need to ensure the /dev/fd path exists.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: Test redirection of stdout and stderr
      hash: 3c4c916fd04d74e4032289d2861aa8fd99faebe3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.31
  title: ""
  date: 2023-11-16T14:26:44.863Z
- commits:
    - subject: Merge test VM install scripts into setup.sh
      hash: 13daeaf004910f3dc79f78a3a37ed0fb6fa7ca7c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 0.0.30
  title: ""
  date: 2023-11-10T15:01:02.674Z
- commits:
    - subject: Use /var/environment for runtime secrets and env vars
      hash: dd013a430bccf66666b1fb8541b619894e4be6ea
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.29
  title: ""
  date: 2023-11-10T13:21:06.129Z
- commits:
    - subject: Add docker tests for debian and ubuntu
      hash: 7028679d46c313a1d0c48940bd3e5d716aab80fd
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
    - subject: Add QEMU emulation test to x86_64 healthcheck
      hash: 73dbce0b6331acf3d8317fe878e575eab1b70716
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
    - subject: Create the cgroup hierarchy on init
      hash: e487e9bd519cb9cdccf40f2fab090695c90187ad
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.28
  title: ""
  date: 2023-11-09T20:48:40.978Z
- commits:
    - subject: Add localhost to /etc/hosts if missing
      hash: 1a030e4ef5f9e872f70e9358f572e585d02906cb
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.27
  title: ""
  date: 2023-11-07T20:15:37.839Z
- commits:
    - subject: Create /dev/shm tmpfs device
      hash: e9b90c0741d6271324c58dac6402fbdd2b70dcf4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.26
  title: ""
  date: 2023-11-07T19:10:44.144Z
- commits:
    - subject: Reduce requested resources when they exceed the host max
      hash: a5625a1ce6a15232b3e951c3d1511621c21fd30b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.25
  title: ""
  date: 2023-10-31T15:16:44.912Z
- commits:
    - subject: Only cleanup networking beyond a certain point
      hash: cf0c4d37ba2e06090b2e053437190e4496e1609a
      body: |
        This will try to avoid tearing down networking
        in cases where the tap device already exists.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.24
  title: ""
  date: 2023-10-31T13:00:34.670Z
- commits:
    - subject: Update project name and README
      hash: f60bf09ddfaac96cd3af4bb776e178a58da57a68
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
    - subject: Clear the chroot base in case /srv was not mounted tmpfs
      hash: 039f35bb47bba11454da3fb45f7e7a63890a916e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.23
  title: ""
  date: 2023-10-29T17:47:42.960Z
- commits:
    - subject: Test running arm32 docker images on arm64
      hash: ab5328db9c2234bd1a30f2b340a99f2a3ef0f418
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.22
  title: ""
  date: 2023-10-27T20:31:09.569Z
- commits:
    - subject: Create dynamic test overlays for multiple targets
      hash: 6400c93b1d738846eb0cdf2de6f88275b6682b22
      body: |
        This allows for much more flexibility when setting
        up test image dependencies, and conditionally running
        healthcheck steps.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
    - subject: Add hello-world to dind test
      hash: 9e9fe64f627adf21722de54b3383eb46c2df0571
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.21
  title: ""
  date: 2023-10-27T19:32:11.821Z
- commits:
    - subject: Delete iptables rules without save/restore
      hash: b613c84675166091161d1410c90fce746eadfd2a
      body: |
        Avoid using save/restore in cases where many processes may
        be writing to iptables
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.20
  title: ""
  date: 2023-10-27T17:57:12.037Z
- commits:
    - subject: Compress kernel in deployed image
      hash: 8f6216a59b6f149083694a4395bfd5bd07d916d6
      body: |
        This should reduce the image size.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.19
  title: ""
  date: 2023-10-27T17:38:06.874Z
- commits:
    - subject: Run healthchecks as nonroot user
      hash: 8a4f915ea78cb643429352a03ca4c75bb1ee5aae
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
    - subject: Change permissions of /dev/console and create std symlinks
      hash: 5ac5004bf5df7da2a7892ec52f6a16a0b280c2f2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
    - subject: Add stdout and stderr tests to healthcheck
      hash: f858f76aca5f68af426a706f661e6a881f8520cc
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
    - subject: Pull cache from sut:latest when building test images
      hash: 4675397b86c5a7094033a99e501721d236ab8667
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.18
  title: ""
  date: 2023-10-27T16:46:20.140Z
- commits:
    - subject: Remove healthcheck.sh from overlay
      hash: 8250ffdda1040478b7f82118ba744907d95b508b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
    - subject: Remove usage.sh from overlay
      hash: f62effbe75ed642cac01b0ad214ca3c716f9e0a8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.17
  title: ""
  date: 2023-10-27T13:13:30.903Z
- commits:
    - subject: Enable entropy and guest RNG features
      hash: 5e4e59a4143907b24c23bb55bc2d05c5d20753a0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.16
  title: ""
  date: 2023-10-23T18:38:13.496Z
- commits:
    - subject: Fix race conditions in serialized tests
      hash: 3f7b0076eb442f2c958859d63667435148e30e91
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.15
  title: ""
  date: 2023-10-20T23:18:04.439Z
- commits:
    - subject: Bail out if TAP device already exists
      hash: bd1134d1c41e81f353f37f6c2fd39518d1d55c4a
      body: |
        A new random one will be generated on restart.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.14
  title: ""
  date: 2023-10-20T19:21:43.358Z
- commits:
    - subject: Deprecate GUEST_HOSTNAME env var and share hostname with jailer
      hash: 099b0898965665932f45442369384a29ef588d24
      body: |
        Ideally customizing the hostname of the VM should be as simple
        as setting the hostname: instruction in the compose file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.13
  title: ""
  date: 2023-10-20T17:27:53.518Z
- commits:
    - subject: Calculate rootfs and datafs max size in bytes
      hash: 0caef7d5c6764c7a5d0329eb96fbc6133c76c171
      body: |
        Truncate does not support decimals in sizes, so some human-readable
        sizes like 3.2T would fail.

        Instead, just count the number of 1-byte blocks and provide
        that as the size to truncate.

        This can still be overridden with env vars.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.12
  title: ""
  date: 2023-10-20T13:20:11.268Z
- commits:
    - subject: Update README
      hash: ea4e887d80d77bd7776ce517fd8e3418172e64e3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.11
  title: ""
  date: 2023-10-18T19:39:05.665Z
- commits:
    - subject: Use export -p to create a drop-in profile
      hash: eda8664798c584307de8fcc4db864c880b860991
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.10
  title: ""
  date: 2023-10-18T14:13:42.782Z
- commits:
    - subject: Add docker-in-docker test
      hash: 5918b8eb9920f0ae00961ebb53678a4b80d08241
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.9
  title: ""
  date: 2023-10-18T03:23:14.617Z
- commits:
    - subject: Enable xtables addrtype matching in arm64 kernel
      hash: fe6aa6c4d438475bd94926f93dd57e557f9cf4cd
      body: |
        Required for docker engine.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.8
  title: ""
  date: 2023-10-17T19:54:09.535Z
- commits:
    - subject: Enable kernel bridge features on arm64
      hash: ed05f54af5f8619251f48b9aa356d6ecceb72575
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
    - subject: Build kernel from source with local config
      hash: 78e40a637a97eaf7d79ba33c6561bc064e083d76
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.7
  title: ""
  date: 2023-10-17T18:21:42.398Z
- commits:
    - subject: Update README
      hash: 0cede267d023fa5796a5e3923699d9e22d5406fd
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.6
  title: ""
  date: 2023-10-13T20:24:33.229Z
- commits:
    - subject: Use kernel command line to initialize network
      hash: 73c6306075ada9c4cfbf5da57c57c2bb15e29497
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.5
  title: ""
  date: 2023-10-12T19:58:32.155Z
- commits:
    - subject: Publish images to ghcr.io
      hash: 2d7ede850822a1da2ee130ff0d53ee3c21a03ec3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.4
  title: ""
  date: 2023-10-12T19:07:20.763Z
- commits:
    - subject: Write all env vars to a single file for convenience
      hash: 6add7f3d62a448ca56716eeeec9ff1eb726bd623
      body: |
        This removes the requirement to add a CTR_ prefix to any
        existing env vars when migrating.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.3
  title: ""
  date: 2023-10-12T14:28:47.805Z
- commits:
    - subject: Deploy ctr-jailer as a reusable build stage
      hash: 9039c043c175ba180c9706a5cb780d7edc91da8f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
  version: 0.0.2
  title: ""
  date: 2023-10-12T03:10:19.170Z
